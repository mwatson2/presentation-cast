<!DOCTYPE html><html lang="en-US">
  <head>
    <meta charset="UTF-8"/>
    <title>
      presentation-cast Demo
    </title>
    <script src="presentation_cast.js" type="text/javascript"/>
    <script src="presentation_control.js" type="text/javascript"/>
    <script src="/presentations/photo_slideshow.js" type="text/javascript"/>
    <script type="text/javascript">
      <!--
         var controller = new PresentationController();
         if (navigator.presentation) {
           controller.initialize();
         } else {
           window['__OnPresentationAPIAvailable'] = function() {
             controller.initialize();
           }
         }
         // TODO: Find a cleaner way to instantiate per-presentation logic.
         // Rough design: 
         // - Register a factory with each URL via the PresentationController.
         // - When a session is created/joined it looks up the factory and creates a new object.
         // - Controller sets a postMessage function and invokes connect/disconnect/onmessage
         //   on returned object.
         var photoSession = null;
      -->
    </script>
  </head>
  <body>
    <h1>presentation-cast Demo Presentations</h1>
    <form action="#">
      <input class="present" type="radio" value="/presentations/photo_slideshow.html" name="presentation">
        Photo Slideshow
      </input>
      <input id="show" type="submit" value="Show" onclick="function(){controller.startPresent(document.forms[0].presentation.value).then(function(newSession) {window.photoSession = new PhotoSession(newSession);}); return true;}"/>
      <input id="stop" type="reset" value="Stop" onclick="function(){controller.stopPresent(); return true;}"/>
    </form>
  </body>
</html>
